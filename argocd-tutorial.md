# ArgoCD

1. Create ArgoCD namespace and lavel it with kubed:


```
kubectl create namespace argocd
kubectl label namespace argocd app=kubed
```

2. Create Istio Gateways and VirtualServices to allow accessing ArgoCD from "outside":

```
cat << EOF | kubectl apply -f -
apiVersion: networking.istio.io/v1alpha3
kind: Gateway
metadata:
  name: argocd-gateway
  namespace: argocd
spec:
  selector:
    istio: ingressgateway
  servers:
  - port:
      number: 80
      name: http-argocd
      protocol: HTTP
    hosts:
    - argocd.${MY_DOMAIN}
  - port:
      number: 443
      name: https-argocd
      protocol: HTTPS
    hosts:
    - argocd.${MY_DOMAIN}
    tls:
      mode: PASSTHROUGH
---
apiVersion: networking.istio.io/v1alpha3
kind: VirtualService
metadata:
  name: argocd-http-virtual-service
  namespace: argocd
spec:
  hosts:
  - argocd.${MY_DOMAIN}
  gateways:
  - argocd-gateway
  http:
  - match:
    - port: 80
    route:
    - destination:
        host: argocd-server.argocd.svc.cluster.local
        port:
          number: 80
---
apiVersion: networking.istio.io/v1alpha3
kind: VirtualService
metadata:
  name: argocd-https-virtual-service
  namespace: argocd
spec:
  hosts:
  - argocd.${MY_DOMAIN}
  gateways:
  - argocd-gateway
  tls:
  - match:
    - port: 443
      sniHosts:
      - argocd.${MY_DOMAIN}
    route:
    - destination:
        host: argocd-server.argocd.svc.cluster.local
        port:
          number: 443
EOF

3. Install ArgoCD

```
kubectl apply -n argocd -f argocd/install.yaml
```

4. Download Argo CD CLI

Download the latest Argo CD version from https://github.com/argoproj/argo-cd/releases/latest. More detailed installation instructions can be found via the CLI installation documentation.

Also available in Mac Homebrew:

```
brew tap argoproj/tap
brew install argoproj/tap/argocd
```

5. Login Using The CLI

The initial password is autogenerated to be the pod name of the Argo CD API server. This can be retrieved with the command:
```
kubectl get pods -n argocd -l app.kubernetes.io/name=argocd-server -o name | cut -d'/' -f 2
```
Using the username admin and the password from above, login to Argo CD's IP or hostname:
```
argocd login <ARGOCD_SERVER>
```
Change the password using the command:
```
argocd account update-password
```


## Connecting to GitLab




➜  ~ k get secret istio.default -o yaml
apiVersion: v1
data:
  cert-chain.pem: LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSURIakNDQWdhZ0F3SUJBZ0lSQU5wWnRjLzdMUDdSWGI0eHZOOElJSjB3RFFZSktvWklodmNOQVFFTEJRQXcKR0RFV01CUUdBMVVFQ2hNTlkyeDFjM1JsY2k1c2IyTmhiREFlRncweU1EQTBNVEl4T1RVek1UZGFGdzB5TURBMwpNVEV4T1RVek1UZGFNQUF3Z2dFaU1BMEdDU3FHU0liM0RRRUJBUVVBQTRJQkR3QXdnZ0VLQW9JQkFRRDE2Q2o4Ck40ZTJOMDVVRG5WNXp2Y2JkL21MYVZ2U0tsQzJVU3V0ZmpVSzBJejlYcnVzWmxaSkZBTFlTUE5CQ0ppQVo1djgKdmZLKzZ3aFJySUx3QldEek9OU0plRVY3bXhmb05DU2dRNDJmZjk2c2ZhTXFJMXlPdTRXaTFQMHQ4dno1dmlCNgptWlBFd2hQdStTWnlUU3lzTXNTVE5LdGlOb0lGM2JaNjRYU2VmVmErdHNrdHpkNUozT0YvQ0s0NjR3aGI3NVg0CkE3OHpGWUk4d2Fvek9kaU5LWXpuS2VWVkZuRXpQcXVLUGhGZzMxVVduMDJ4TFNwTnhpMUN6bXZIT0d1bWdKVDQKeE1hSFFsNnhmL0tWV253NGRCOEhDY3dMNk5EeUw2OVBvZWpZc1pHLzUxZmNYWThST2Q4amc0S0ZRZ1BXOXUxTApaRTFoeGpicVAralhoYldGQWdNQkFBR2plekI1TUE0R0ExVWREd0VCL3dRRUF3SUZvREFkQmdOVkhTVUVGakFVCkJnZ3JCZ0VGQlFjREFRWUlLd1lCQlFVSEF3SXdEQVlEVlIwVEFRSC9CQUl3QURBNkJnTlZIUkVCQWY4RU1EQXUKaGl4emNHbG1abVU2THk5amJIVnpkR1Z5TG14dlkyRnNMMjV6TDJSbFptRjFiSFF2YzJFdlpHVm1ZWFZzZERBTgpCZ2txaGtpRzl3MEJBUXNGQUFPQ0FRRUFNc3JDOG0wNVpzT2ZsMHB2UnRVdUFWSEpOY2kxOTYzbVkrRkdrcXRECmdZSWJpK2NqcmlQZGJlZFJUMlpNaTAxenE4SVpTS1padHJKWmZ2Q0VmbzYrcmVLQkdDNDVwRHozMUtIUWYwVEMKRVpmcTQ0OU4rYUo1Zld4UGVTZWlMQ09nRXRVWjI5SERvYWNoOXB5Z21sRC8wT01KVlFVdWRTZVN1eHA1aGdEaQpyTW5TYkZVL1F3WXhhVE1Pa1JhL3pTS0xNWjF6VTRQdUR3c0tWQzZXY0dNaGRONjByUTQ5SnBRUnV3eHhyWWM5Ck1GUWxyZjc5amlITkNjQnQvTklqYm4rV3YrVVAzc0xxQ0JmRXFHbnd2NEdXeGlOT1NadGlYRnJqYW5mWjd0SkUKMFFES0kxbStjdTU1czNNRVByRGpMVEFTcE45WHdQSlRzZytnaFpXdmtSZFJrQT09Ci0tLS0tRU5EIENFUlRJRklDQVRFLS0tLS0K
  key.pem: LS0tLS1CRUdJTiBSU0EgUFJJVkFURSBLRVktLS0tLQpNSUlFcEFJQkFBS0NBUUVBOWVnby9EZUh0amRPVkE1MWVjNzNHM2Y1aTJsYjBpcFF0bEVyclg0MUN0Q00vVjY3CnJHWldTUlFDMkVqelFRaVlnR2ViL0wzeXZ1c0lVYXlDOEFWZzh6alVpWGhGZTVzWDZEUWtvRU9ObjMvZXJIMmoKS2lOY2pydUZvdFQ5TGZMOCtiNGdlcG1UeE1JVDd2a21jazBzckRMRWt6U3JZamFDQmQyMmV1RjBubjFXdnJiSgpMYzNlU2R6aGZ3aXVPdU1JVysrVitBTy9NeFdDUE1HcU16bllqU21NNXlubFZSWnhNejZyaWo0UllOOVZGcDlOCnNTMHFUY1l0UXM1cnh6aHJwb0NVK01UR2gwSmVzWC95bFZwOE9IUWZCd25NQytqUThpK3ZUNkhvMkxHUnYrZFgKM0YyUEVUbmZJNE9DaFVJRDF2YnRTMlJOWWNZMjZqL28xNFcxaFFJREFRQUJBb0lCQUN4Z2lEenovSDdLdmt6MwpDd1kvYm1LN3BRSWVzbDVjR3BLOFZVaUs5U0dOZjFRZUszb3lRYklRZFc3NHcwVmlPcnM1ZDNJR0NXK2cxTENBCmxHU2lZOXVnenVJOEhUWHdTRUUwWDhPNFRTK1NrT25LQm84Tk1KL2xnWGxnUEl4MVJHZ0JnclQ5VUNoNjZjUC8Kbkl1V0Y5Qy9uTEFBR2ttd0VvamllUkwxNnVqSzFUU2xQZldxLzlxZUkrL1JYQmZENi9kRHpRSHhpOHN6MVpVRAppUGpOZzJ6VnZIcHVhNjU4Z0s5bU5vd0JNMXR5Yy9QNE5EZlNzeGpSSEZpYjVucmJKWjRsYzlOWTc3WEJpVVdTCk1xUTZwQmJiUHQvVEtRYnNiQlQ0M1NvaG5mMFdibHFCZ0RFemZpczM5ZmlkRmoxbXdHNDIzbHM3b3JkVDBPMUIKSUJGQkZTRUNnWUVBK2xyOEVIamFUTm1jMXVINEJoSzMweVNzcGtCdXFhcDZ1MW1naHlNVVltV2l2M0lZYm5FeQp6ZThsVTV4YmlaSTNiQ01wRElvVmVVRC9hYm5JZkNOd0M4T1dlNUUwaC9QWEdoTjN6SXNZNFhBUVZwZ0hJT2xPCkcvOStrL1gxRndNZU1GeWxZZVFQU0V6TUdoVGFGWTgxcFltQUxrUHVKUGtOVkU4Y2JubG9XajBDZ1lFQSszTi8KeWllc1FjVWt2QkEyVE5VU1l1MUlWNE1sTHVMRUJCcUtBbGw5OXUvWjVIWjBxYXdhNVF4b1dhMkVWL1Q0NjRTRwpvdERzamRma2FocENKdEd6WGtjOVF1eTdKUFJSOFR5cEpITmh2YnF6NEcvVkN4RFM0R0c3M0pRcVoxTGZMRXIvCkQ3d0NMMVRqSmdtdW42cHJaUy9DaVRkdGkwazNkajluZ0tMM0pPa0NnWUVBeGRWWUVud3RwVVRoRnowQmpXc0YKTUNodTlnRThjWDV4OWRKaGMraFlsMWpSUG8rZWxzZUU2ZzdzWkNIT2crdXpPQlNndjNQdWZCN010bk5FNWpQcQp1cUVZTFJVVmVjbEtWU1RGS2pGUXUvU2VOSTkyTXArcVJaMmtISy9qdVFlUnQ0MitjcGlSS3dUazFFZGQvbU5vCmRTTXUwMkNDczF6TEY3QmNPMEJkSWRFQ2dZRUF0K0MxWVdwem9FRC9aUHRpQ2Z1Q2o0OC9hS2VCcUhDeHNPS0wKYTc1dnpBV0h6SGNIUnhDUk5sQkZldGJWd2RCbHV5elZtL2kyRTkvOXE4MTU5Sk5DM0wyeHdlQUYxcmRIdU9hSQpOaHllTERWODFySlJFOStBcGc4eVp0SiswOElaYTNXSVljUTF3TkVOcnNKRHpZUzlObWlmbE9KUW5CdTFrQ1k3CmxTa1hIQWtDZ1lBYWRCSUVpYUFsN0Z0Y1RGWEpPdVQ4R0VmNHMxMGk4OHJGdzdaL2o3c3VRZDczQ2hkV2JpdjIKVkZ3RTdGNDgrQjZxR1Z1aUJTRlZENFFvZGwvRkZpUGJGcmlBYnlpTHFCZ1ZZL1RpOTEwUzR1V0hKc0hmdHlHWQpCTGErMzRSYUxrNjFUenVJZFhQS284RS82L2xCRWFXMUNzcEh3LzgreUVLWmpqczJITUxMRGc9PQotLS0tLUVORCBSU0EgUFJJVkFURSBLRVktLS0tLQo=
  root-cert.pem: LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUMzakNDQWNhZ0F3SUJBZ0lSQUpkL0lHZzVXNUVPT3h4aVVocWJoc3N3RFFZSktvWklodmNOQVFFTEJRQXcKR0RFV01CUUdBMVVFQ2hNTlkyeDFjM1JsY2k1c2IyTmhiREFlRncweU1EQTBNVEl4T1RVek1USmFGdzB6TURBMApNVEF4T1RVek1USmFNQmd4RmpBVUJnTlZCQW9URFdOc-----BEGIN RSA PRIVATE KEY-----
2RYTjBaWEl1Ykc5allXd3dnZ0VpTUEwR0NTcUdTSWIzCkRRRUJBUVVBQTRJQkR3QXdnZ0VLQW9JQkFRQ2lCSzZMRUlrMXdRTWhUa3A2M0hxS09mbmdHT2NZT3c0TUN2aVEKK0xWbzNnUURJUTBrNE92K1dMZ0pEOUhrK282LzU3em5aaTczUXBKeTR5OUh0Mmp3RTM5L25wVmVnQlVKNm9zYwpxVmU4blMrYUxHSitSZVlEcFhBMTdCUU5KbUw5YndaeDdIY3BmWGZsdmI1NDRia0M2dXBzSU5CLzlhcWd1UnBaCjRDMnlSNGdhNHZCbkJBbEJ0Y3BuZVJHWnBTeWNxMFdHMjFBMWQ4ZjE0dExKeDFZNlZxclhOVG15bXRoWUUzMEsKeEVnZG1OT0FZME9hYTJUMTIwMGt3Z05HUjd6UTdDT0lwL3FqeC8ycHAyalVOSzVyWGJ4UmRmSi8rNGF3bWcvegpHaWZ3cWlFMW43dzhFaEZIRnVTUWdnaUlUMFpYcGJUZWErQmRTY1cwcjl3TEhwV1RBZ01CQUFHakl6QWhNQTRHCkExVWREd0VCL3dRRUF3SUNCREFQQmdOVkhSTUJBZjhFQlRBREFRSC9NQTBHQ1NxR1NJYjNEUUVCQ3dVQUE0SUIKQVFDV1E3aVNqL09UeDlYaGZndDFnSC9yVnlXWUxOaGI0ZmRHYi9hWFN6UXdqUS84THFIeVl1MTNkaitrM3V1MAorUXVKeUw4NU9oZWtJZTJDY0Izc001OE5RMG50emZkVm85MW9BWDdhQ0ZkYVJDa0VwMWdjNHJCNnI1bHlVMHBsCkU1aFBzVEJ5ZXg2Nk9VejNtY0N5Nm5ZcnV1S1lPVEE3QTBzZ3d4VEFDN1QzUFV6cXdMSi9YVWdVK2hQaUZ0dHoKS3o0ejdmYTcyOUxvOW9tTHZaM1lxakhRTW1PaHNkcmtDZUJScDIyTHY5S0w2c2lVR293RWFSSHZmNDR0c2tTRgpJczFpNmRGaGpFNWVrQ2c0TDVTVm8vSXFMY2hOcDcxOHZZeFJ2QTRuWlNhR3hveDB3aHM5SE1VWVBxSmdGVWhyCjVid2luZFcvZVVaTjAyTkdBOTU1RTRsTwotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0tCg==
kind: Secret
metadata:
  annotations:
    istio.io/service-account.name: default
  creationTimestamp: "2020-04-12T19:53:18Z"
  name: istio.default
  namespace: default
  resourceVersion: "6820"
  selfLink: /api/v1/namespaces/default/secrets/istio.default
  uid: 510b81ee-0660-43ed-93b5-960d7a89c28d
type: istio.io/key-and-cert
➜  ~ echo "ZXlKaGJHY2lPaUpTVXpJMU5pSXNJbXRwWkNJNkluaEdTM0pxVlhWRU4xbDBXSGRvU3poRVYxSnJSbmhzWjFObWVqVXpOSFpWWkZGemNreHFjSGhwV21jaWZRLmV5SnBjM01pT2lKcmRXSmxjbTVsZEdWekwzTmxjblpwWTJWaFkyTnZkVzUwSWl3aWEzVmlaWEp1WlhSbGN5NXBieTl6WlhKMmFXTmxZV05qYjNWdWRDOXVZVzFsYzNCaFkyVWlPaUpyY0dGamF5SXNJbXQxWW1WeWJtVjBaWE11YVc4dmMyVnlkbWxqWldGalkyOTFiblF2YzJWamNtVjBMbTVoYldVaU9pSjNaV0pvYjI5ckxYUnZhMlZ1TFhGb1kyMDBJaXdpYTNWaVpYSnVaWFJsY3k1cGJ5OXpaWEoyYVdObFlXTmpiM1Z1ZEM5elpYSjJhV05sTFdGalkyOTFiblF1Ym1GdFpTSTZJbmRsWW1odmIyc2lMQ0pyZFdKbGNtNWxkR1Z6TG1sdkwzTmxjblpwWTJWaFkyTnZkVzUwTDNObGNuWnBZMlV0WVdOamIzVnVkQzUxYVdRaU9pSTFZekkyTnprMll5MDVaamcyTFRReVkyVXRPVE5rTmkwNU9UbGhaREl4TTJaak9UUWlMQ0p6ZFdJaU9pSnplWE4wWlcwNmMyVnlkbWxqWldGalkyOTFiblE2YTNCaFkyczZkMlZpYUc5dmF5SjkuZ0ROR1d4UHZ2RmthZktZam9PTTZiRkVrLWVzcjlMSmE1aXJxY3pwbDJuc25KdjhRTUhQLTlnRDBXaWlDdEZmelBadnhZNWk2NmtSOC15SDdXaG9lWVFZSTRRWDlxMzdOOWVUVVBlVlFVaEVwQ003Z0NRbVNuV3NNZGVnc29BckFjdGpMTEk3MHJIVkZObk5EcTJ2ZHJYVnEwOEZaLUk5blU2dUV5RW42YTd5dWEya0pfMUs3TEI2cHVxQ3hnMTFCRGU4Y2Z5WmtrTGtHbC1uMnBYZXFzaTJVQW51T1VyWTdEWjN6WmI5Zm54Z1NaR2NIZzF3Y1NMLVp2dGFRUkNjV3VHTERiMTlOQWhFSjZ5SmtqYmJ5LXRCaWFibHNPTC16NXplcUhad1kxa1ltOEp1NFA5cjd5YXFabXNMV3NyNXlTWmFyTV9Hc0lMNXoyVFRtRXR5RHdR" | base64 -d -
➜  ~ echo "LS0tLS1CRUdJTiBSU0EgUFJJVkFURSBLRVktLS0tLQpNSUlFcEFJQkFBS0NBUUVBOWVnby9EZUh0amRPVkE1MWVjNzNHM2Y1aTJsYjBpcFF0bEVyclg0MUN0Q00vVjY3CnJHWldTUlFDMkVqelFRaVlnR2ViL0wzeXZ1c0lVYXlDOEFWZzh6alVpWGhGZTVzWDZEUWtvRU9ObjMvZXJIMmoKS2lOY2pydUZvdFQ5TGZMOCtiNGdlcG1UeE1JVDd2a21jazBzckRMRWt6U3JZamFDQmQyMmV1RjBubjFXdnJiSgpMYzNlU2R6aGZ3aXVPdU1JVysrVitBTy9NeFdDUE1HcU16bllqU21NNXlubFZSWnhNejZyaWo0UllOOVZGcDlOCnNTMHFUY1l0UXM1cnh6aHJwb0NVK01UR2gwSmVzWC95bFZwOE9IUWZCd25NQytqUThpK3ZUNkhvMkxHUnYrZFgKM0YyUEVUbmZJNE9DaFVJRDF2YnRTMlJOWWNZMjZqL28xNFcxaFFJREFRQUJBb0lCQUN4Z2lEenovSDdLdmt6MwpDd1kvYm1LN3BRSWVzbDVjR3BLOFZVaUs5U0dOZjFRZUszb3lRYklRZFc3NHcwVmlPcnM1ZDNJR0NXK2cxTENBCmxHU2lZOXVnenVJOEhUWHdTRUUwWDhPNFRTK1NrT25LQm84Tk1KL2xnWGxnUEl4MVJHZ0JnclQ5VUNoNjZjUC8Kbkl1V0Y5Qy9uTEFBR2ttd0VvamllUkwxNnVqSzFUU2xQZldxLzlxZUkrL1JYQmZENi9kRHpRSHhpOHN6MVpVRAppUGpOZzJ6VnZIcHVhNjU4Z0s5bU5vd0JNMXR5Yy9QNE5EZlNzeGpSSEZpYjVucmJKWjRsYzlOWTc3WEJpVVdTCk1xUTZwQmJiUHQvVEtRYnNiQlQ0M1NvaG5mMFdibHFCZ0RFemZpczM5ZmlkRmoxbXdHNDIzbHM3b3JkVDBPMUIKSUJGQkZTRUNnWUVBK2xyOEVIamFUTm1jMXVINEJoSzMweVNzcGtCdXFhcDZ1MW1naHlNVVltV2l2M0lZYm5FeQp6ZThsVTV4YmlaSTNiQ01wRElvVmVVRC9hYm5JZkNOd0M4T1dlNUUwaC9QWEdoTjN6SXNZNFhBUVZwZ0hJT2xPCkcvOStrL1gxRndNZU1GeWxZZVFQU0V6TUdoVGFGWTgxcFltQUxrUHVKUGtOVkU4Y2JubG9XajBDZ1lFQSszTi8KeWllc1FjVWt2QkEyVE5VU1l1MUlWNE1sTHVMRUJCcUtBbGw5OXUvWjVIWjBxYXdhNVF4b1dhMkVWL1Q0NjRTRwpvdERzamRma2FocENKdEd6WGtjOVF1eTdKUFJSOFR5cEpITmh2YnF6NEcvVkN4RFM0R0c3M0pRcVoxTGZMRXIvCkQ3d0NMMVRqSmdtdW42cHJaUy9DaVRkdGkwazNkajluZ0tMM0pPa0NnWUVBeGRWWUVud3RwVVRoRnowQmpXc0YKTUNodTlnRThjWDV4OWRKaGMraFlsMWpSUG8rZWxzZUU2ZzdzWkNIT2crdXpPQlNndjNQdWZCN010bk5FNWpQcQp1cUVZTFJVVmVjbEtWU1RGS2pGUXUvU2VOSTkyTXArcVJaMmtISy9qdVFlUnQ0MitjcGlSS3dUazFFZGQvbU5vCmRTTXUwMkNDczF6TEY3QmNPMEJkSWRFQ2dZRUF0K0MxWVdwem9FRC9aUHRpQ2Z1Q2o0OC9hS2VCcUhDeHNPS0wKYTc1dnpBV0h6SGNIUnhDUk5sQkZldGJWd2RCbHV5elZtL2kyRTkvOXE4MTU5Sk5DM0wyeHdlQUYxcmRIdU9hSQpOaHllTERWODFySlJFOStBcGc4eVp0SiswOElaYTNXSVljUTF3TkVOcnNKRHpZUzlObWlmbE9KUW5CdTFrQ1k3CmxTa1hIQWtDZ1lBYWRCSUVpYUFsN0Z0Y1RGWEpPdVQ4R0VmNHMxMGk4OHJGdzdaL2o3c3VRZDczQ2hkV2JpdjIKVkZ3RTdGNDgrQjZxR1Z1aUJTRlZENFFvZGwvRkZpUGJGcmlBYnlpTHFCZ1ZZL1RpOTEwUzR1V0hKc0hmdHlHWQpCTGErMzRSYUxrNjFUenVJZFhQS284RS82L2xCRWFXMUNzcEh3LzgreUVLWmpqczJITUxMRGc9PQotLS0tLUVORCBSU0EgUFJJVkFURSBLRVktLS0tLQo=" | base64 -d -
-----BEGIN RSA PRIVATE KEY-----
MIIEpAIBAAKCAQEA9ego/DeHtjdOVA51ec73G3f5i2lb0ipQtlErrX41CtCM/V67
rGZWSRQC2EjzQQiYgGeb/L3yvusIUayC8AVg8zjUiXhFe5sX6DQkoEONn3/erH2j
KiNcjruFotT9LfL8+b4gepmTxMIT7vkmck0srDLEkzSrYjaCBd22euF0nn1WvrbJ
Lc3eSdzhfwiuOuMIW++V+AO/MxWCPMGqMznYjSmM5ynlVRZxMz6rij4RYN9VFp9N
sS0qTcYtQs5rxzhrpoCU+MTGh0JesX/ylVp8OHQfBwnMC+jQ8i+vT6Ho2LGRv+dX
3F2PETnfI4OChUID1vbtS2RNYcY26j/o14W1hQIDAQABAoIBACxgiDzz/H7Kvkz3
CwY/bmK7pQIesl5cGpK8VUiK9SGNf1QeK3oyQbIQdW74w0ViOrs5d3IGCW+g1LCA
lGSiY9ugzuI8HTXwSEE0X8O4TS+SkOnKBo8NMJ/lgXlgPIx1RGgBgrT9UCh66cP/
nIuWF9C/nLAAGkmwEojieRL16ujK1TSlPfWq/9qeI+/RXBfD6/dDzQHxi8sz1ZUD
iPjNg2zVvHpua658gK9mNowBM1tyc/P4NDfSsxjRHFib5nrbJZ4lc9NY77XBiUWS
MqQ6pBbbPt/TKQbsbBT43Sohnf0WblqBgDEzfis39fidFj1mwG423ls7ordT0O1B
IBFBFSECgYEA+lr8EHjaTNmc1uH4BhK30ySspkBuqap6u1mghyMUYmWiv3IYbnEy
ze8lU5xbiZI3bCMpDIoVeUD/abnIfCNwC8OWe5E0h/PXGhN3zIsY4XAQVpgHIOlO
G/9+k/X1FwMeMFylYeQPSEzMGhTaFY81pYmALkPuJPkNVE8cbnloWj0CgYEA+3N/
yiesQcUkvBA2TNUSYu1IV4MlLuLEBBqKAll99u/Z5HZ0qawa5QxoWa2EV/T464SG
otDsjdfkahpCJtGzXkc9Quy7JPRR8TypJHNhvbqz4G/VCxDS4GG73JQqZ1LfLEr/
D7wCL1TjJgmun6prZS/CiTdti0k3dj9ngKL3JOkCgYEAxdVYEnwtpUThFz0BjWsF
MChu9gE8cX5x9dJhc+hYl1jRPo+elseE6g7sZCHOg+uzOBSgv3PufB7MtnNE5jPq
uqEYLRUVeclKVSTFKjFQu/SeNI92Mp+qRZ2kHK/juQeRt42+cpiRKwTk1Edd/mNo
dSMu02CCs1zLF7BcO0BdIdECgYEAt+C1YWpzoED/ZPtiCfuCj48/aKeBqHCxsOKL
a75vzAWHzHcHRxCRNlBFetbVwdBluyzVm/i2E9/9q8159JNC3L2xweAF1rdHuOaI
NhyeLDV81rJRE9+Apg8yZtJ+08IZa3WIYcQ1wNENrsJDzYS9NmiflOJQnBu1kCY7
lSkXHAkCgYAadBIEiaAl7FtcTFXJOuT8GEf4s10i88rFw7Z/j7suQd73ChdWbiv2
VFwE7F48+B6qGVuiBSFVD4Qodl/FFiPbFriAbyiLqBgVY/Ti910S4uWHJsHftyGY
BLa+34RaLk61TzuIdXPKo8E/6/lBEaW1CspHw/8+yEKZjjs2HMLLDg==
-----END RSA PRIVATE KEY-----
➜  ~ vi /tmp/kube/ca.key
➜  ~ argocd repo add //gitlab.gdambor.com/myuser/gitops.git --tls-client-cert-path /tmp/kube/ca.crt --tls-client-cert-key-path /tmp/kube/ca.key
FATA[0000] --tls-client-cert-path is only supported for HTTPS repositories
➜  ~ argocd repo add https://gitlab.gdambor.com/myuser/gitops.git --tls-client-cert-path /tmp/kube/ca.crt --tls-client-cert-key-path /tmp/kube/ca.key
repository 'https://gitlab.gdambor.com/myuser/gitops.git' added
➜  ~